#pragma once
#include <string>
#include <vector>
#include "Cell.class"

class World {
public:
	std::map<unsigned long, Thing> obs; // id, obj
	std::string name;
	std::vector<std::vector<std::vector<Cell>>> grid; // этаж | y | x

	World(){
		name = "new_name";
	}
	void gen(int nx, int ny, int layers){
		// заполнение сетки мира клетками
		for(int il=0; il<layers; il++){
			std::vector<std::vector<Cell>> layer;
			for(int iy=0; iy<ny; iy++){
				std::vector<Cell> line;
				Cell new_c1 = Cell();
				new_c1.addObj(Thing(tid, "v_wall"));
				tid++;
				line.push_back(new_c1);
				for(int ix=0; ix<nx-2; ix++){
					Cell new_c = Cell();
					new_c.addObj(Thing(tid, "floor"));
					tid++;
					line.push_back(new_c);
				}
				line.push_back(new_c1);

				layer.push_back(line);
			}
			grid.push_back(layer);
		}

		// Герой:
		grid[0][2][1].addObj(Thing("player"));

	}

};
